<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="manifest" href="./manifest.json" >
  <title>Yarn</title>
</head>
<body>
	<!-- Fancy Background -->
	<div id="app-bg">&nbsp;</div>

  <!-- Container -->
  <div id="app">

    <!-- search form -->
    <div class="app-search">
      <form class="menu" autocomplete="off" onkeypress="return event.keyCode != 13;">
        <input
        id="nodeSearchInput"
        type="text"
        class="search-field"
        placeholder="Search"
        autocomplete="off"
        oninput="app.ui.openNodeListMenu('open')" onclick="app.ui.openNodeListMenu('open')">

        <span>
          <span class="search-title styled-checkbox">
            <input type="checkbox" checked="checked" id="search-title" />
            <label for="search-title">Title</label>
          </span>
          <span class="search-body styled-checkbox">
            <input type="checkbox" id="search-body" />
            <label for="search-body">Body</label>
          </span>
          <span class="search-tags styled-checkbox">
            <input type="checkbox" id="search-tags" />
            <label for="search-tags">Tags</label>
          </span>
        </span>

        <div class="dropdown">
          <div id="openHelperMenu"></div>
        </div>
      </form>
    </div>

    <!-- add node -->
    <div class="app-add-node" data-bind="click:app.newNode">
      <span class="add-node"></span>
    </div>

    <!-- undo/redo controls -->
    <div class="app-undo-redo">
      <span data-bind="click: function() { app.historyDirection('undo'); }"></span>
      <span data-bind="click: function() { app.historyDirection('redo'); }"></span>
    </div>

    <!-- align controls -->
    <div class="app-sort">
      <span data-bind="click: app.workspace.alignX" title="Arrange H"></span>
      <span data-bind="click: app.workspace.alignY" title="Arrange V"></span>
      <span data-bind="click: app.workspace.arrangeSpiral" title="Arrange Spiral"></span>
      <span data-bind="click: app.workspace.sortAlphabetical" title="Sort Alphabetically" ></span>
    </div>

    <!-- zoom controls -->
    <div class="app-zoom">
      <span data-bind="click: function() { app.workspace.setZoom(4); }" title="Zoom 1:1"></span>
      <span data-bind="click: function() { app.workspace.setZoom(3); }" title="Zoom 2:1"></span>
      <span data-bind="click: function() { app.workspace.setZoom(2); }" title="Zoom 3:1"></span>
      <span data-bind="click: function() { app.workspace.setZoom(1); }" title="Zoom 4:1"></span>
    </div>

    <!-- main menu -->
    <div class="app-menu">
      <!-- File menu -->
      <div class="menu">
        <span class="title">File</span>
        <div class="dropdown">
          <span class="item" data-bind="click: app.data.tryOpenFile">
            <img style="margin:0; padding:0" width="20px" src="./public/images/open.png"/>
            &nbsp;
            Open
          </span>
          <span class="item" data-bind="click: app.data.tryAppend">
            <img style="margin:0; padding:0" width="20px" src="./public/images/append.png"/>
            &nbsp;
            Append
          </span>
          <!-- ko if:data.editingPath() != null -->
          <span class="item" data-bind="click: app.data.trySaveCurrent">
            <img style="margin:0; padding:0" width="20px" src="./public/images/pixel.png"/>
            &nbsp;
            Save
          </span>
          <!-- /ko -->
          <span class="item" data-bind="click: function() { app.data.trySave('json');}">
            <img style="margin:0; padding:0" width="20px" src="./public/icon.ico" alt="Yarn Icon" />
            &nbsp;
            Save As Json
          </span>
          <span class="item" data-bind="click: function() { app.data.trySave('yarn'); }">
            <img style="margin:0; padding:0" width="20px" src="./public/icon.ico" alt="Yarn Icon" />
            &nbsp;
            Save As Yarn
          </span>
          <span class="item" data-bind="click: function() { app.data.trySave('twee'); }">
            <img style="margin:0; padding:0" width="20px" src="./public/images/twine-favicon-152.png" alt="Twine Icon" />
            &nbsp;
            Save As Twee
          </span>
          <span class="item" data-bind="click: function() { app.data.trySave('tw2'); }">
            <img style="margin:0; padding:0" width="20px" src="./public/images/twine-favicon-152.png" alt="Twine Icon" />
            &nbsp;
            Save As Twee2
          </span>
          <span class="item" data-bind="click: function() { app.data.trySave('xml'); }">
            <img style="margin:0; padding:0" width="20px" src="./public/images/xml.png" alt="Twine Icon" />
            &nbsp;
            Save As Xml
          </span>
          <span id="pwaTryShare" class="item" data-bind="click: function() { app.data.tryShareFilePwa('yarn');}">
            <img style="margin:0; padding:0" width="20px" src="./public/icon.ico" alt="Yarn Icon" />
            &nbsp;
            Send file
          </span>
          <span class="item" data-bind="click: (data, event) => { app.ui.openDialog('settings-dialog'); }">
            <img style="margin:0; padding:0" width="20px" src="./public/images/settings.png"/>
            &nbsp;
            Settings
          </span>
        </div>
      </div> <!-- file menu -->

      <!-- Help menu -->
      <div class="menu">
        <span class="title">Help</span>
        <div class="dropdown">
          <span class="item" data-bind="click: (data, event) => { app.ui.openDialog('help-dialog'); }">
            <img style="margin:0; padding:0" width="20px" src="./public/images/question.png"/>
            &nbsp;
            Cheat sheets
          </span>
          <span class="item">
            <img style="margin:0; padding:0" width="20px" src="./public/images/yarnspinner.png"/>
            &nbsp;
            <a href="https://yarnspinner.dev/docs/syntax" target="_blank">Yarn syntax online</a>
          </span>
          <span class="item">
            <img style="margin:0; padding:0" width="20px" src="./public/images/github.png"/>
            &nbsp;
            <a href="https://github.com/YarnSpinnerTool/YarnEditor" target="_blank">Main page</a>
          </span>
        </div>
      </div> <!-- help menu -->
    </div> <!-- app-menu -->

    <!-- arrow bg canvas for linked nodes -->
    <canvas class="arrows"></canvas>

    <!-- foreach loop  of the nodes -->
    <div class="nodes">
      <div class="nodes-holder" data-bind="foreach: { data: app.nodes, as: 'node' }">
        <div class="node" data-bind="nodeBind: true, css: { inactive: !node.active()}" >
          <div class="title" data-bind="text: node.title, css: 'title ' + node.titleStyles[node.colorID()]"></div>
          <div class="body" data-bind="html: node.clippedBody"></div>
          <div class="tags" data-bind="visible:node.clippedTags, foreach: { data: node.clippedTags, as: 'tag' }">
            <span data-bind="text: tag.text, css: tag.style"></span>
          </div>
          <div class="icon colorDown" data-bind="click: node.cycleColorDown"></div>
          <div class="icon colorUp" data-bind="click: node.cycleColorUp"></div>
          <!--<div class="icon edit" data-bind="click: function() { app.editNode(node); }"></div>-->
          <div class="icon delete" data-bind="click: node.tryRemove"></div>
          <!--<div class="resize" data-bind="click:node.toggleExpand"></div>-->
        </div>
      </div>
    </div>

    <!-- ko if:app.editing() != null -->
    <div class="node-editor" data-bind="mousedown:app.saveNode">

      <div class="form" data-bind="preventBubble: 'click', preventBubble: 'mousedown'">
        <input type="text" id="editorTitle" class="title" oninput="app.validateTitle()" data-bind="value: app.editing().title;" onfocus="app.togglePreviewMode(true)" placeholder="Title">
        <input type="text" data-bind="value: app.editing().tags;" onfocus="app.togglePreviewMode(true)" placeholder="Tags(use spaces)">

        <div class="bbcode-toolbar">
          <button class="bbcode-button" onclick="app.openLastEditedNode()" title="Go Back to last edited" onfocus="app.togglePreviewMode(false)">&#8617</button>
          &nbsp;
          <button class="bbcode-button" onclick="app.richTextFormatter.insertTag('b')" title="Bold"><b>B</b></button>
          <button class="bbcode-button" onclick="app.richTextFormatter.insertTag('u')" title="Underlined"><u>U</u></button>
          <button class="bbcode-button" onclick="app.richTextFormatter.insertTag('i')" title="Italic"><i>I</i></button>
          <button class="bbcode-button" onclick="app.richTextFormatter.insertTag('color')">üåà</button>
          <button class="bbcode-button" onclick="app.richTextFormatter.insertTag('img')" title="Image">ü¶Ñ</button>
          <button class="bbcode-button" onclick="app.richTextFormatter.insertTag('cmd')" title="Command">üéÆ</button>
          <span class="hide-when-narrow">
            <button class="bbcode-button" onclick="app.richTextFormatter.insertTag('opt')" title="Choice/Link">‚ùî</button>
          </span>

          <button class="bbcode-button" onclick="app.insertEmoji()" title="Emoji">üòâ</button>

          <div class="add-link" style="position: absolute;">
            <div class="menu">
              <span class="title" onmouseenter="app.ui.openNodeListMenu('link')" onclick="app.ui.openNodeListMenu('link')">Add Link</span>
              <div class="dropdown">
                <form autocomplete="off" onkeypress="return event.keyCode != 13;">
                  <input class="search-field" autocomplete="off" placeholder="search" type="text" id="linkHelperMenuFilter" oninput="app.ui.openNodeListMenu('link')"></input>
                </form>
                <div id="linkHelperMenu"></div>
              </div>
            </div>
          </div>

          &nbsp;

          <span class="styled-checkbox hide-when-narrow">
            <input
            id="toglShowCounter"
            type="checkbox"
            data-bind="checked: app.settings.editorStatsEnabled, event: { change: app.toggleShowCounter }"
            ></input>
            <label for="toglShowCounter" title="Show line counter">&#9779</label>
          </span>
          <span class="editor-counter">
            <span class="hide-when-narrow">
              &nbsp;
              Length: <span class="character-count">0</span>
              &nbsp;
              Lines: <span class="line-count">0</span>
              &nbsp;
              <span class="find-text" onclick="app.showRandomQuote()">&#9749</span>
              &nbsp;
              Line: <span class="row-index">0</span>
              &nbsp;
              Col: <span class="column-index">0</span>
            </span>
          </span>
          <span class="styled-checkbox">
            <input type="checkbox" id="toglAutocomplete" data-bind="checked: app.settings.completeTagsEnabled"></input>
            <label for="toglAutocomplete" title="Auto Close tags">üîÆ</label>
          </span>
          <span class="styled-checkbox hide-when-narrow">
            <input
            id="toglAutocompleteWords"
            type="checkbox"
            data-bind="checked: app.settings.completeWordsEnabled"
            onclick="app.toggleWordCompletion()"
            ></input>
            <label for="toglAutocompleteWords" title="auto-completion">üí¨</label>
          </span>
          <button class="bbcode-button" onclick="app.searchTextInEditor()" title="Search (Ctrl+f)">üîé</button>
          <span class="styled-checkbox hide-when-narrow">
            <input
            class="styled-checkbox"
            type="checkbox"
            id="toglTranscribing"
            data-bind="checked: app.settings.transcribeEnabled, event: { change: app.toggleTranscribing }">
          </input>
          <label for="toglTranscribing" title="Transcribe"><span title="Transcribe" class="button-bubble" id="speakTextBtnBubble"></span>üé§</label>
        </span>
        <button class="bbcode-button" onclick="app.speakText()" title="Hear text">üîä</button>
        <button id="storyPlayButton" class="bbcode-button" onclick="app.togglePlayMode(true)" title="Preview">‚ñ∂Ô∏è</button>

        <span class="show-when-narrow">
          |
          <button class="bbcode-button" onclick="app.editor.undo()" title="Undo">‚Ü∂</button>
          <button class="bbcode-button" onclick="app.editor.redo()" title="Redo">‚Ü∑</button>
        </span>
      </div>

      <div class="editor-container">
        <div class="editor-preview" id="editor-preview" onclick="app.togglePreviewMode(false)" ></div>
        <div class="editor-play" id="editor-play" onpointermove="app.advanceStoryPlayMode(30)" ondblclick="app.advanceStoryPlayMode()">
          <p id="NVrichTextLabel"></p>
          <div id="commandDebugLabel"></div>
        </div>
        <div class="editor" id="editor"
        data-bind="
        ace: app.editing().body,
        aceOptions: { mode: 'yarn', theme: 'yarn', showPrintMargin: false,
        enableBasicAutocompletion: true,
        enableLiveAutocompletion: true }"
        >
      </div>
    </div>

    <div class="tooltip" id="colorPicker-container" hidden>
      <input type='text' id="colorPicker" data-bind="preventBubble: 'click', preventBubble: 'mousedown'"/>
    </div>

    <div class="tooltip" id="emojiPicker-container">
      <div id="emojiPickerDom"></div>
    </div>

  </div>
</div>
<!-- /ko -->
<!-- ko if:app.deleting() != null -->
<div class="node-delete" data-bind="click: function() { app.deleting(null); }">

  <div class="form" data-bind="preventBubble: 'click'">
    <!-- ko if: (app.deleting().selected && (app.getSelectedNodes().length > 1)) -->
    <div>Remove all selected</div>
    <!-- /ko -->
    <!-- ko ifnot: (app.deleting().selected) -->
    <div>Remove <span data-bind="text: app.deleting().title"></span>?</div>
    <!-- /ko -->
    <!-- ko if: (app.deleting().selected && (app.getSelectedNodes().length == 1)) -->
    <div>Remove <span data-bind="text: app.deleting().title"></span>?</div>
    <!-- /ko -->
    <div class="icon close" data-bind="click:app.deleting().remove;"></div>
  </div>

</div>
<!-- /ko -->

<!-- app info -->
<div class="app-info">
  <span class="app-title" data-bind="text:app.name"></span>
  <span class="app-version" data-bind="text:app.version"></span>
  <span class="title" id="addPwa">Add to Homescreen</span>
</div>

<!-- marquee -->
<div id="marquee"></div>

<!-- ko if:app.ui.settingsDialogVisible() === true -->
<div id="settings-dialog" class="dialog" data-bind="mousedown: (data, event) => { app.ui.closeDialog('settings-dialog'); }">
  <div class="dialog-form" data-bind="preventBubble: 'click', preventBubble: 'mousedown'">
    <h3>Settings</h3>
    <div class="settings-row">
      <div class="settings-column">
        <!-- Language -->
        <div class="settings-item">
          <label class="settings-label" for="language">Story language</label>
          <select id="language" class="settings-value" data-bind="
          options: app.ui.availableLanguages,
          optionsText: 'name',
          optionsValue: 'id',
          value: app.settings.language,
          event: { change: app.setLanguage }">
        </select>
      </div>

      <!-- Theme -->
      <div class="settings-item">
        <label class="settings-label" for="theme">Theme</label>

        <select id="theme" class="settings-value" data-bind="
          options: app.ui.availableThemes,
          optionsText: 'name',
          optionsValue: 'id',
          value: app.settings.theme,
          event: { change: app.setTheme }">
        </select>
      </div>

      <!-- Markup -->
      <div class="settings-item">
        <label class="settings-label" for="theme">Markup</label>

        <div class="settings-value markup">
          <select id="theme" data-bind="
            options: app.ui.availableMarkupLanguages,
            optionsText: 'name',
            optionsValue: 'id',
            value: app.settings.markupLanguage,
            event: { change: app.setMarkupLanguage }">
          </select>
          <button data-bind="click: app.ui.confirmMarkupConversion">Convert</button>
        </div>
      </div>

    <!-- Throttle delay -->
    <div class="settings-item">
      <label class="settings-label" for="throttle-threshold">Redraw delay</label>
      <div class="slidecontainer settings-value">
        <input
        type="range"
        class="slider settings-value"
        min="16"
        max="250"
        data-bind="value: app.settings.redrawThrottle, event: { change: app.workspace.setThrottle }">
      </div>
    </div> <!-- settgins-item -->

  </div> <!-- settgins-column -->
  <div class="settings-column">

    <!-- Spellcheck -->
    <div class="settings-item">
      <label class="settings-label" for="spellcheck">‚úî Spell check</label>
      <input
      id="spellcheck"
      type="checkbox"
      class="settings-value"
      data-bind="checked: app.settings.spellcheckEnabled">
    </div>

    <!-- AutocompleteWords -->
    <div class="settings-item">
      <label class="settings-label" for="completeWords">üí¨ Complete words</label>
      <input
      id="completeWords"
      type="checkbox"
      class="settings-value"
      data-bind="checked: app.settings.completeWordsEnabled"
      >
    </div>

    <!-- AutocloseTags -->
    <div class="settings-item">
      <label class="settings-label" for="completeTags">üîÆ Complete tags</label>
      <input
      id="completeTags"
      type="checkbox"
      class="settings-value"
      data-bind="checked: app.settings.completeTagsEnabled"
      >
    </div>

    <!-- AutocreateNodes -->
    <div class="settings-item">
      <label class="settings-label" for="autocreation">‚ûï Autocreate nodes</label>
      <input
      id="autocreation"
      type="checkbox"
      class="settings-value"
      checked="true"
      data-bind="checked: app.settings.createNodesEnabled"
      >
    </div>

    <!-- Night mode -->
    <div class="settings-item">
      <label class="settings-label" for="nightMode">&#9728 Night mode</label>
      <input
      id="nightMode"
      type="checkbox"
      class="settings-value"
      checked="true"
      data-bind="checked: app.settings.nightModeEnabled, event: { change: app.toggleNightMode }"
      >
    </div>
  </div> <!-- settgins-column -->
</div> <!-- settgins-row -->
</div> <!-- settgins-form -->
</div> <!-- settgins-dialog -->
<!-- /ko -->

<!-- ko if:app.ui.helpDialogVisible() === true -->
<div id="help-dialog" class="dialog" data-bind="mousedown: (data, event) => { app.ui.closeDialog('help-dialog'); }">
  <div class="dialog-form" data-bind="preventBubble: 'click', preventBubble: 'mousedown'">
    <!-- Tabs -->
    <div class="tab">
      <button class="tablinks active" onclick="app.ui.showHelpTab(event, 'About')">About</button>
      <button class="tablinks" onclick="app.ui.showHelpTab(event, 'Syntax')">Syntax</button>
      <button class="tablinks" onclick="app.ui.showHelpTab(event, 'Shortcuts')">Shortcuts</button>
    </div> <!-- Tabs -->

    <!-- Pages -->
    <div id="About" class="tabcontent about-tab" style="display: block;">
      <p>
        <img src="public/icon.png" />
      </p>
      <p>
        Yarn Editor <span data-bind="text:app.version"></span>
      </p>
      <p>
        Dialogue graph editor originally created for <a href="http://wikipedia.org/wiki/Night_in_the_Woods" target="_blank">"Night in the Woods"</a> by Noel Berry (@NoelFB), Todor Imreorov (@blurymind) and Alec Holowka (@infinite_ammo).
      </p>
      <p>
        Contributors:<br>
        Kyle J. Kemp (@seiyria), Stuart Lee (@beeglebug), David D√≠az (@daviddq)
      </p>
    </div> <!-- About -->

    <div id="Syntax" class="tabcontent">
      <div class="syntax-row">
        <div class="syntax-column">
          <li>Lines of dialogue are just text. One line of dialogue per one line of text.</li>

          <p><code>Like this one.</code></p>

          <li>You can add a line ID to the end of a line, to uniquely identify it!</li>

          <p><code>This line has an ID #line:a1b2c3</code></p>

          <li>You can add options. These wait until the end of the node before they appear.</li>

          <p>
            <code>
            // will run node West if selected<br>
            [[Would you like to go west?|West]]<br>
            <br>
            // will run node East if selected<br>
            [[Would you like to go east?|East]]<br>
            </code>
          </p>

          <li>You can store information in variables:</li>

          <p><code>&lt;&lt;set $knows_variables = true&gt;&gt;</code></p>

          <li>You can then use this information in your scripts:</li>

          <p><code>
          &lt;&lt;if $knows_variables == true&gt;&gt;<br>
          <span class='indent'/>Nice! 'elseif' can be used here, too!<br>
          &lt;&lt;else&gt;&gt;<br>
          <span class='indent'/>Dang!<br>
          &lt;&lt;endif&gt;&gt;<br>
          </code></p>

          <li>You can use custom commands in your scripts, to tell your game what to do. It's up to your game to define them.</li>

          <p><code>
            &lt;&lt;walk_to Mae car&gt;&gt;<br>
            &lt;&lt;fade_down&gt;&gt;<br>
          </code></p>
        </div> <!-- syntax-column -->

        <div class="syntax-column">
          <li>You can do maths with variables and values and store true/false, text, and numbers inside variables:</li>

          <p><code>
          &lt;&lt;if 1 + 2 / 4 * 3 % 2&gt;&gt;<br>
          <span class='indent'/>&lt;&lt;set $character_name = "Bob"&gt;&gt;<br>
          <span class='indent'/>&lt;&lt;set $gold_coints = 51&gt;&gt;<br>
          <span class='indent'/>&lt;&lt;set $yarn_is_cool = true&gt;&gt;<br>
          &lt;&lt;endif&gt;&gt;<br>
          </code></p>

          <li>You can use shortcuts:</li>

          <p>
          <code>-> Shortcut options let you offer choices in the middle of dialogue.<br>
          <span class='indent'/>Indent the line after it, and it will only run if the user chose the option.<br>
          <span class='indent'/>Shortcut options are presented right away, like lines.<br>
          <span class='indent'/><code>-></code> You can put other options inside them, too!<br>
          <span class='indent'/><span class='indent'/>Wow!<br>
          </code>
          </p>

          <li>You can add a condition to the end of a shortcut:</li>

          <p><code>-> This line will never run &lt;&lt;if $yarn_is_cool == false&gt;&gt;</code></p>

          <li>You can jump straight to a node:</li>
          <p><code>[[GameOver]]</code></p>

          <p><li>You can embed expressions in lines, <code>{$character_name}.</code></li></p>

          <p><li>You can pluralise <code>[plural {$num_words} one="a word" other="words"]</code>, depending on your locale.</li></p>
        </div> <!-- syntax-column -->
      </div>
    </div> <!-- Syntax -->

    <div id="Shortcuts" class="tabcontent">
      <div class="shortcuts-row">
        <div class="shortcuts-column">
          <h2>Workspace</h2>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>O</kbd></span><span class="shortcuts-label"> open story</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>A</kbd></span><span class="shortcuts-label"> append story</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>S</kbd></span><span class="shortcuts-label"> save JSON</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>Alt</kbd><kbd>S</kbd></span><span class="shortcuts-label"> save YARN</span></p>

          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>A</kbd></span><span class="shortcuts-label"> select all</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>D</kbd></span><span class="shortcuts-label"> deselect all</span></p>

          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Del</kbd></span><span class="shortcuts-label"> delete selected</span></p>

          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>C</kbd></span><span class="shortcuts-label"> copy nodes</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>X</kbd></span><span class="shortcuts-label"> cut nodes</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>V</kbd></span><span class="shortcuts-label"> paste nodes</span></p>

          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>Z</kbd></span><span class="shortcuts-label"> undo</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>Y</kbd></span><span class="shortcuts-label"> redo</span></p>

          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Spacebar</kbd></span><span class="shortcuts-label"> focus next node</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>‚Ü≤</kbd></span><span class="shortcuts-label"> edit focused node</span></p>

          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>‚Üê</kbd><kbd>‚Üí</kbd><kbd>‚Üë</kbd><kbd>‚Üì</kbd></span><span class="shortcuts-label"> move around</span></p>

        </div>

        <div class="shortcuts-column">
          <h2>Editor</h2>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>C</kbd></span><span class="shortcuts-label"> copy text</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>X</kbd></span><span class="shortcuts-label"> cut text</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>V</kbd></span><span class="shortcuts-label"> paste text</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Esc</kbd></span><span class="shortcuts-label"> save and close</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Ctrl</kbd><kbd>Alt</kbd><kbd>‚Ü≤</kbd></span><span class="shortcuts-label"> save and close</span></p>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Alt</kbd><kbd>Spacebar</kbd></span><span class="shortcuts-label"> focus next node</span></p>

          <br>
          <h2>Story Player</h2>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Z</kbd></span><span class="shortcuts-label"> speed up / select</span></p>

          <br>
          <h2>Help dialog</h2>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Esc</kbd></span><span class="shortcuts-label"> close</span></p>

          <br>
          <h2>Settings dialog</h2>
          <p class="shortcuts-item"><span class="shortcuts-keystroke"><kbd>Esc</kbd></span><span class="shortcuts-label"> close</span></p>
        </div>

        <div class="shortcuts-column">
          <!-- <h2>Reserved</h2> -->
        </div>
      </div>
    </div> <!-- Shortcuts -->
  </div> <!-- help-form -->
</div> <!-- help-dialog -->
<!-- /ko -->
</div>

<!-- Hidden fields, file dialogs, and elements -->
<div class="hidden">
  <input type="file" id="open-image" accept=".jpg,.jpeg,.png,.gif,.bmp"/>
  <input type="file" id="open-file" accept=".yarn,.txt,.xml,.json,.twee,.tw2"/>
  <input type="file" id="open-folder" webkitdirectory directory/>
  <input type="file" id="save-file" nwsaveas="filename.txt" />
</div>

<!-- templates container (they get loaded into this) -->
<div class="templates">
</div>
<link id="theme-stylesheet" rel="stylesheet" href="./public/themes/classic.css" >
</body>
</html>
